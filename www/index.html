<!DOCTYPE html>
<!-- Copyright (c) Patrice Boulet 2015 -->
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="format-detection" content="telephone=no" />
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1,
                                       width=device-width, height=device-height, target-densitydpi=device-dpi" />
        <link rel="stylesheet" type="text/css" href="js/bootstrap-3.3.4/css/bootstrap.min.css" />
        <link rel="stylesheet" type="text/css" href="css/index.css" />
        <link rel="stylesheet" type="text/css" href="js/datepicker/themes/default.css" />
        <link rel="stylesheet" type='text/css' href="js/datepicker/themes/default.date.css" />
        <link rel="stylesheet" type="text/css" href="js/datepicker/themes/default.time.css" />
        <link rel="stylesheet" type="text/css" href="js/bootstrap-switch/css/bootstrap-switch.css" />
        
        <title>Course Grades</title>
    </head>
    <body style="background-color:#F2F1ED">
        <nav class="navbar navbar-default navbar-fixed-top" style="min-height:42px; height:42px; margin-bottom:10px;">
            <div class="container-fluid" style="text-align:center">
                <!-- Brand and toggle get grouped for better mobile display -->
                <div style="position:absolute; padding-top:11px">
                    <a style="cursor:pointer;"
                       data-bind="visible: appState.previousPageTitle() != appState.activePageTitle(),
                                  click: $root.navigateBack" >
                        <span class="glyphicon glyphicon-chevron-left" style="float:left; color:white" aria-hidden="true"></span>
                        <span data-bind="text: appState.previousPageTitle" style="float:left; color:white; font-size: 13px"></span>
                    </a>
                </div>
                <p class="navbar-brand" style="float:none; margin-top:auto; margin-bottom:auto; text-align:center; padding:10px 10px" data-bind="text: appState.activePageTitle()"></p>
                <div style="position:absolute; right:15px; top:13px;">
                    <a style="cursor:pointer;" data-bind="visible: $root.appState.activePage() != 'Settings', click: $root.navigateToSettings" >
                        <span style="color:white" class="glyphicon glyphicon-cog"></span>
                    </a>
                </div>
            </div><!-- /.container-fluid -->
        </nav>
        
        <div class="content container">
            <div data-bind="fadeVisible: appState.activePage() == 'Sessions'">
                <div class="panel-group" id="accordion" role="tablist">
                    <!-- ko foreach: { data: dataModel.sessions, as: 'session' } -->
                        <div class="panel panel-default drop-shadow" style="margin-bottom: 10px;">
                            <div class="custom-panel-heading panel-heading" role="tab">
                                <a role="button"
                                    data-bind="click: $root.sessionOnClick.bind(session),
                                               disable: session.creationMode()">
                                    <h4 class="panel-title" style="font-size:18px;">
                                        <div class="row">
                                            <div class="col-xs-7">
                                                <span class="glyphicon glyphicon-edit" aria-hidden="true"
                                                        data-bind="click: $root.toggleSessionState.bind(session),
                                                            clickBubble: false"></span>
                                                <span data-bind="visible: session.state() == 'READ',
                                                                  text: session.title()"></span>
                                                <input type="text" class="custom-form-control form-control" 
                                                       data-bind="visible: session.state() == 'EDIT',
                                                                  value: session.title,
                                                                  hasFocus: session.creationMode() || session.state() == 'EDIT',
                                                                  valueUpdate:'afterkeydown',
                                                                  attr: {placeholder: $root.appCulture.strings()
                                                                            .getString('ENTER_SESSION_TITLE_PLACEHOLDER',
                                                                            $root.appCulture.lang())},
                                                                  clickBubble:false">
                                            </div>
                                            <div class="col-xs-5">
                                                <span class="pull-right glyphicon glyphicon-plus-sign" aria-hidden="true" 
                                                      data-bind="visible: ($root.appState.activeSession() == null ||
                                                                 $root.appState.activeSession().id != session.id) &&
                                                                    !session.creationMode()">
                                                </span>
                                                <span class="pull-right glyphicon glyphicon-minus-sign" aria-hidden="true"
                                                      data-bind="visible: ($root.appState.activeSession() != null &&
                                                                 $root.appState.activeSession().id == session.id) &&
                                                                    !session.creationMode()">
                                                </span>
                                                <span class="pull-right" style="padding-right:10px" 
                                                      data-bind="visible: !session.creationMode(),
                                                                 text: session.avg() == null ?
                                                                                     '-- %' : session.avg() + '%'"></span>
                                            </div>
                                        </div>
                                    </h4>
                                </a>
                                <button class="btn btn-xs btn-default" 
                                        data-bind="visible: session.creationMode(),
                                                   click: $root.cancelAddNewSession.bind(session),
                                                   text: $root.appCulture.strings()
                                                    .getString('CANCEL', 
                                                   $root.appCulture.lang())"></button>
                                <button class="btn btn-xs btn-success" 
                                        data-bind="visible: session.creationMode(),
                                                   text: $root.appCulture.strings()
                                                    .getString('CREATE', $root.appCulture.lang()),
                                                   disable: session.title().length < 1,
                                                   click: $root.createSession.bind(session),
                                                   clickBubble: false"></button>
                            </div>
                            <div class="panel-collapse collapse" role="tabpanel"
                                 data-bind="attr: {id: 'session' + session.id, 'aria-expanded': $root.appState.activeSession() != null &&
                                                         $root.appState.activeSession().id == session.id ? 'true' : 'false'}" >
                                 <ul class="list-group">
                                     <!-- ko foreach: { data: $data.courses, as: 'course' } -->
                                        <li class="custom-list-group-item list-group-item" 
                                            data-bind="click: $root.changeAndNavigateToActiveCourse.bind(course)" 
                                          style="cursor:pointer">
                                            <div class="row">
                                                <div class="col-xs-10">
                                                    <!-- ko if: $root.appState.activeSession()!= null -->
                                                    <button class="btn btn-sm btn-danger" style="margin-right:5px"
                                                            data-bind="fadeVisible: $root.appState.activeSession().state() == 'EDIT',
                                                                       click: $root.deleteCourse.bind(course)">
                                                        <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
                                                    </button>
                                                    <!-- /ko -->
                                                    <input style="margin-left:10px; margin-bottom:10px" 
                                                           type="text" class="custom-form-control form-control"
                                                       data-bind="value: course.title, visible: course.creationMode(), 
                                                                  hasFocus: course.creationMode(),
                                                                  attr: {placeholder: $root.appCulture.strings()
                                                                        .getString('ENTER_COURSE_TITLE_PLACEHOLDER',
                                                                            $root.appCulture.lang())},
                                                                  valueUpdate:'afterkeydown'"/>
                                                    <span data-bind="text: course.title, visible: !course.creationMode()"></span>
                                                </div>
                                                <div class="col-xs-2">
                                                    <span class="pull-right" 
                                                          data-bind="text: course.grade() != null ? 
                                                                    course.grade() + '%' : '-- %',
                                                                    visible: !course.creationMode()"></span>
                                                </div>
                                            </div>
                                            <div class="row" style="text-align:center">
                                                <button class="btn btn-xs btn-default" 
                                                        data-bind="visible: course.creationMode(), 
                                                                   click: $root.cancelAddNewCourse.bind(course),
                                                                   text: $root.appCulture.strings()
                                                                    .getString('CANCEL', 
                                                                   $root.appCulture.lang())"></button>
                                                <button class="btn btn-xs btn-success" 
                                                        data-bind="visible: course.creationMode(),
                                                                   text: $root.appCulture.strings()
                                                                    .getString('CREATE_AND_ADD_ANOTHER', 
                                                                   $root.appCulture.lang()),
                                                                   disable: course.title().length < 1,
                                                                   click: $root.addAnotherCourse.bind(course),
                                                                   clickBubble: false"></button>
                                                <button class="btn btn-xs btn-success" 
                                                        data-bind="visible: course.creationMode(),
                                                                   text: $root.appCulture.strings()
                                                           .getString('CREATE', $root.appCulture.lang()),
                                                                   disable: course.title().length < 1,
                                                                   click: $root.createCourse.bind(course),
                                                                   clickBubble: false"></button>
                                            </div>
                                        </li>
                                     <!-- /ko -->
                                    <li class="custom-list-group-item list-group-item" style="padding:0" style="cursor:pointer" 
                                        data-bind="visible: session.showCreateNewCourse()">
                                        <button class="btn btn-primary" style="width: 100%; border-radius: 0px 0px 2px 2px"
                                                data-bind="click: $root.addNewCourse">
                                          <span class="glyphicon glyphicon-plus" aria-hidden="true"></span> 
                                          <span data-bind="text: $root.appCulture.strings()
                                                           .getString('ADD_NEW_COURSE', $root.appCulture.lang())"></span>
                                        </button>
                                    </li>
                                    <li class="custom-list-group-item list-group-item" style="padding:0" style="cursor:pointer" 
                                        data-bind="visible: session.showDeleteSession()">
                                        <button class="btn btn-danger" style="width: 100%; border-radius: 0px 0px 2px 2px"
                                                data-bind="click: $root.deleteSession">
                                          <span class="glyphicon glyphicon-trash" aria-hidden="true"></span> 
                                          <span data-bind="text: $root.appCulture.strings()
                                                           .getString('DELETE_SESSION', $root.appCulture.lang())"></span>
                                        </button>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    <!-- /ko -->
                    <div class="panel panel-default drop-shadow" data-bind="visible: $root.sessionPageState.showCreateNewSession()">
                        <div class="panel-heading" role="tab" style="padding: 0">
                            <button class="btn btn-primary" style="width: 100%; border-radius: 2px 2px 2px 2px"
                                    data-bind="click: $root.addNewSession">
                              <span class="glyphicon glyphicon-plus" aria-hidden="true"></span> 
                              <span data-bind="text: $root.appCulture.strings()
                                               .getString('ADD_NEW_SESSION', $root.appCulture.lang())"></span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <div data-bind="if: appState.activeCourse() != null, fadeVisible: appState.activePage() == 'Course'">
                <div class="tabbable tabs-below"  style="min-height:100%; background-color:transparent">
					<div class="tab-content" style="background-color:transparent">
						<div class="tab-pane active" id="tab_below_1">
                            <div class="row">
                                <div class="col-xs-6" style="text-align:right; padding-bottom:5px">
                                    <div style="text-align:center">
                                        <span class="avg-metric-title" data-bind="text: $root.appCulture.strings()
                                                                                    .getString('AVERAGE', $root.appCulture.lang())"></span><br>
                                        <span class="avg-metric-text" data-bind="text: (appState.activeCourse().grade() == null ? '--' : appState.activeCourse().grade())  + ' %'"></span>
                                    </div>
                                </div>
                                <div class="col-xs-6" style="text-align:left; padding-bottom:5px">
                                    <div style="text-align:center">
                                        <span class="avg-metric-title"data-bind="text: $root.appCulture.strings()
                                                                                    .getString('GOAL', $root.appCulture.lang())"></span><br>
                                        <span class="avg-metric-text" data-bind="visible: appState.activeCourse().state() != 'EDIT_GRADE_GOAL',
                                                                                 text: (appState.activeCourse().gradeGoal() == null ? '--' : appState.activeCourse().gradeGoal())  + ' %',
                                                                                 click: function(){appState.activeCourse().state('EDIT_GRADE_GOAL')}"></span>
                                        <input class="custom-form-control form-control" style="height: 24px; width: 40px; padding: 5px 5px;"
                                                data-bind="visible: appState.activeCourse().state() == 'EDIT_GRADE_GOAL',
                                                           value: appState.activeCourse().gradeGoal, 
                                                           valueUpdate: 'afterkeydown',
                                                           hasFocus: appState.activeCourse().state() == 'EDIT_GRADE_GOAL',
                                                           event: { blur: function(){appState.activeCourse().state('READ');}},
                                                           style: { 'display': (appState.activeCourse().state() == 'EDIT_GRADE_GOAL' ? 'inline-block' : 'none')}" />
                                    </div>
                                </div>
                            </div>
                          <div class="panel panel-default drop-shadow">
                            <div class="panel-heading" role="tab" id="headingTwo">
                              <h4 class="panel-title">
                                  <span data-bind="text: $root.appCulture.strings()
                                   .getString('SYLLABUS_ITEMS', $root.appCulture.lang())"></span>
                              </h4>
                            </div>
                            <ul class="list-group">
                                <!-- ko if: appState.activeCourse().syllabusItems().length < 1 -->
                                    <li class="custom-list-group-item list-group-item">This course has no item yet.</li>
                                <!-- /ko -->
                                <!-- ko foreach: {data: appState.activeCourse().syllabusItems, as: 'syllabusItem'} -->
                                    <li class="custom-list-group-item list-group-item" data-bind="style: {padding: syllabusItem.isParent ? 
                                                                           '0px 0px' : '10px 15px 10px 15px'}">
                                        <!-- ko if: !syllabusItem.isParent -->
                                        <span class="glyphicon glyphicon-edit" aria-hidden="true"
                                                data-bind="click: $root.editSyllabusItem.bind(syllabusItem),
                                                           clickBubble: false"></span>
                                        <span data-bind="text: syllabusItem.title"></span>
                                        <span class="pull-right" data-bind="visible: syllabusItem.state() != 'EDIT_GRADE',
                                                                            text: syllabusItem.gradePercent() == null ?
                                                                                '-- %' : syllabusItem.gradePercent() + '%',
                                                                            click: $root.editGrade.bind(syllabusItem)"></span>
                                        <span class="pull-right" data-bind="visible: syllabusItem.state() == 'EDIT_GRADE'">
                                            <button class="btn btn-xs btn-default" 
                                                    data-bind="text: $root.appCulture.strings()
                                                                    .getString('CANCEL', $root.appCulture.lang()),
                                                               click: function(){syllabusItem.state('READ');},
                                                               clickBubble: false"></button>
                                            <button class="btn btn-xs btn-success" 
                                                    data-bind="text: $root.appCulture.strings()
                                                                .getString('OK', $root.appCulture.lang()),
                                                               click: $root.setGrade,
                                                               clickBubble: false"></button>
                                            <input style="width:35px" type="number" 
                                                   data-bind="value: syllabusItem.gradeNumerator,
                                                                hasFocus: syllabusItem.state() == 'EDIT_GRADE'"></input>
                                            <span>/</span>
                                            <input style="width:35px" type="number" 
                                                   data-bind="value: syllabusItem.gradeDenominator"></input>
                                        </span>
                                        <!-- /ko -->
                                        <!-- ko if: syllabusItem.isParent -->
                                            <div class="panel-group" id="syllabusItemAccordion" 
                                                 role="tablist" aria-multiselectable="true" 
                                                 style="margin-bottom:0px">
                                                <div class="panel panel-default child-panel">
                                                    <div class="panel-heading" role="tab" style="background-color: #f8f5f0">
                                                        <a role="button" data-toggle="collapse" data-parent="#syllabusItemAccordion"
                                                            data-bind="attr: {href: '#syllabusItem' + syllabusItem.id}">
                                                            <h4 class="panel-title" style="font-size:14px">
                                                                <span class="glyphicon glyphicon-edit" aria-hidden="true"
                                                                    data-bind="click: $root.editSyllabusItem.bind(syllabusItem),
                                                                                clickBubble: false"></span>
                                                                <span data-bind="text: syllabusItem.title() + ''"></span>
                                                                <span class="badge" data-bind="text: syllabusItem.children().length"></span>
                                                                <span class="pull-right" data-bind="text: syllabusItem.gradePercent() == null ?
                                                                                                        '-- %' : syllabusItem.gradePercent() + '%'"></span>
                                                            </h4>
                                                        </a>
                                                    </div>
                                                    <div class="panel-collapse collapse in" role="tabpanel" aria-expanded="true"
                                                         data-bind="attr: {id: 'syllabusItem' + syllabusItem.id}">
                                                         <ul class="list-group">
                                                             <!-- ko foreach: { data: syllabusItem.children, as: 'child' } -->
                                                                <li class="custom-list-group-item list-group-item">
                                                                    <span class="glyphicon glyphicon-edit" aria-hidden="true"
                                                                        data-bind="click: $root.editSyllabusItem.bind(child),
                                                                                    clickBubble: false"></span>
                                                                    <span data-bind="text: child.title"></span>
                                                                    <span class="pull-right" data-bind="visible: child.state() != 'EDIT_GRADE',
                                                                            text: child.gradePercent() == null ?
                                                                                '-- %' : child.gradePercent() + '%',
                                                                            click: $root.editGrade.bind(child)"></span>
                                                                    <span class="pull-right" data-bind="visible: child.state() == 'EDIT_GRADE'">                                                                                                                    <button class="btn btn-xs btn-default" 
                                                                                data-bind="text: $root.appCulture.strings()
                                                                                                .getString('CANCEL', $root.appCulture.lang()),
                                                                                           click: function(){child.state('READ');},
                                                                                           clickBubble: false"></button>
                                                                        <button class="btn btn-xs btn-success" 
                                                                                data-bind="text: $root.appCulture.strings()
                                                                                                .getString('OK', $root.appCulture.lang()),
                                                                                           click: $root.setGrade,
                                                                                           clickBubble: false"></button>
                                                                        <input  style="width:35px" type="number"
                                                                               data-bind="value: child.gradeNumerator,
                                                                                          hasFocus: child.state() == 'EDIT_GRADE'"></input>
                                                                        <span>/</span>
                                                                        <input style="width:35px" 
                                                                                type="number"
                                                                               data-bind="value: child.gradeDenominator"></input>
                                                                    </span>
                                                                </li>
                                                             <!-- /ko -->
                                                        </ul>
                                                    </div>
                                                </div>
                                            </div>
                                        <!-- /ko -->
                                    </li>
                                <!-- /ko -->
                                <li class="custom-list-group-item list-group-item" style="padding:0" style="cursor:pointer" 
                                    data-bind="visible: coursePageState.showCreateNewSyllabusItem">
                                    <button class="btn btn-primary" style="width: 100%; border-radius: 0px 0px 2px 2px"
                                            data-bind="click: $root.addNewSyllabusItem">
                                      <span class="glyphicon glyphicon-plus" aria-hidden="true"></span> 
                                      <span data-bind="text: $root.appCulture.strings()
                                                       .getString('ADD_NEW_SYLLABUS_ITEM', $root.appCulture.lang())"></span>
                                    </button>
                                </li>
                            </ul>
                          </div>
						</div>
						<div class="tab-pane" id="tab_below_2">
                            <div class="panel-group" id="accordion" role="tablist">
                                <!-- ko foreach: {if: appState.activeCourse() != null, data: appState.activeCourse().infos, as: 'info' } -->
                                <!-- ko if: info.id == -1 -->
                                      <div class="panel panel-default drop-shadow" style="margin-bottom: 10px;">
                                        <div class="panel-heading" role="tab">
                                            <a role="button"
                                                data-bind="click: $root.infoOnClick.bind(info),
                                                           disable: info.creationMode()">
                                                <h4 class="panel-title" style="font-size:18px;">
                                                    <div class="row">
                                                        <div class="col-xs-7">
                                                            <span class="glyphicon glyphicon-edit" aria-hidden="true"
                                                                    data-bind="click: $root.toggleInfoState.bind(info),
                                                                        clickBubble: false"></span>
                                                            <span data-bind="visible: info.state() == 'READ',
                                                                              text: info.title()"></span>
                                                            <input type="text" class="custom-form-control form-control" 
                                                                   style="display:inline-block"
                                                                   data-bind="visible: info.state() == 'EDIT',
                                                                              value: info.title,
                                                                              hasFocus: info.creationMode() || info.state() == 'EDIT',
                                                                              valueUpdate:'afterkeydown',
                                                                              attr: {placeholder: $root.appCulture.strings()
                                                                                        .getString('ENTER_A_TITLE',
                                                                                        $root.appCulture.lang())},
                                                                              clickBubble:false">
                                                        </div>
                                                        <div class="col-xs-5">
                                                            <span class="pull-right glyphicon glyphicon-plus-sign" aria-hidden="true" 
                                                                    data-bind="visible: ($root.coursePageState.activeInfo() == null ||
                                                                             $root.coursePageState.activeInfo().id != info.id) &&
                                                                                !info.creationMode()">
                                                            </span>
                                                            <span class="pull-right glyphicon glyphicon-minus-sign" aria-hidden="true"
                                                                  data-bind="visible: ($root.coursePageState.activeInfo() != null &&
                                                                             $root.coursePageState.activeInfo().id == info.id) &&
                                                                                !info.creationMode()">
                                                            </span> 
                                                        </div>
                                                    </div>
                                                </h4> 
                                            </a>
                                            <button class="btn btn-xs btn-default" 
                                                    data-bind="visible: info.creationMode(),
                                                               click: $root.cancelAddNewInfo.bind(info),
                                                               text: $root.appCulture.strings()
                                                                .getString('CANCEL', $root.appCulture.lang())"></button>
                                            <button class="btn btn-xs btn-success" 
                                                    data-bind="visible: info.creationMode(),
                                                               text: $root.appCulture.strings()
                                                                .getString('CREATE', $root.appCulture.lang()),
                                                               disable: info.title().length < 1,
                                                               click: $root.createInfo.bind(info),
                                                               clickBubble: false"></button>
                                        </div>
                                        <div class="panel-collapse collapse" role="tabpanel"
                                             data-bind="attr: {id: 'info' + info.id, 'aria-expanded': $root.coursePageState.activeInfo() != null 
                                                        && $root.coursePageState.activeInfo().id == info.id ? 'true' : 'false'}" >
                                              <ul class="list-group">
                                                <li class="custom-list-group-item list-group-item" style="padding:0" style="cursor:pointer" >
                                                  <div class="row" style="margin-left:20px; margin-bottom:10px; margin-top:10px">
                                                    <div class="col-sm-4">
                                                      <span data-bind="text: $root.appCulture.strings()
                                                                       .getString('COURSE_WEBSITE', $root.appCulture.lang()) + ' : '"></span>
                                                    <div class="col-sm-8">
                                                      <input type="text" class="custom-form-control form-control" 
                                                             placeholder="Enter the course website..."
                                                                   data-bind="value: info.email,
                                                                              hasFocus: info.creationMode(),
                                                                              valueUpdate:'afterkeydown',
                                                                              attr:{placeholder: $root.appCulture
                                                                                    .strings() .getString('ENTER_COURSE_WEBSITE',
                                                                                        $root.appCulture.lang())}">
                                                    </div>
                                                  </div>
                                                </li>
                                                <li class="custom-list-group-item list-group-item">
                                                  <input type="text" class="custom-form-control form-control" 
                                                         placeholder="Add a course description..." 
                                                  data-bind="value: info.name, hasFocus: info.creationMode(), valueUpdate:'afterkeydown',
                                                  attr:{placeholder: $root.appCulture.strings()
                                                             .getString('ADD_A_COURSE_DESCRIPTION', $root.appCulture.lang())}">
                                                </li>
                                                <li class="custom-list-group-item list-group-item" style="padding:0" style="cursor:pointer" 
                                                    data-bind="visible: info.showDeleteInfo()">
                                                    <button class="btn btn-danger" style="width: 100%; border-radius: 0px 0px 2px 2px"
                                                            data-bind="click: $root.deleteInfo">
                                                      <span class="glyphicon glyphicon-trash" aria-hidden="true"></span> 
                                                      <span data-bind="text: $root.appCulture.strings()
                                                                       .getString('DELETE_CONTACT', $root.appCulture.lang())"></span>
                                                    </button>
                                                </li>
                                              </ul>
                                         </div> 
                                    </div>
                                  <!-- /ko -->
                                  <!-- ko if: info.id != -1 -->
                                    <div class="panel panel-default drop-shadow" style="margin-bottom: 10px;">
                                        <div class="panel-heading" role="tab">
                                            <a role="button"
                                                data-bind="click: $root.infoOnClick.bind(info),
                                                           disable: info.creationMode()">
                                                <h4 class="panel-title" style="font-size:18px;">
                                                    <div class="row">
                                                        <div class="col-xs-7">
                                                            <span class="glyphicon glyphicon-edit" style="color: #98978b" aria-hidden="true"
                                                                    data-bind="click: $root.toggleInfoState.bind(info),
                                                                        clickBubble: false"></span>
                                                            <span style="color: #98978b" data-bind="visible: info.state() == 'READ',
                                                                              text: info.title()"></span>
                                                            <input type="text" class="custom-form-control form-control" 
                                                                   style="display:inline-block; color: #98978b"
                                                                   data-bind="visible: info.state() == 'EDIT',
                                                                              value: info.title,
                                                                              hasFocus: info.creationMode() || info.state() == 'EDIT',
                                                                              valueUpdate:'afterkeydown',
                                                                              attr: {placeholder: $root.appCulture.strings()
                                                                                        .getString('ENTER_A_TITLE',
                                                                                        $root.appCulture.lang())},
                                                                              clickBubble:false">
                                                        </div>
                                                        <div class="col-xs-5">
                                                            <span class="pull-right glyphicon glyphicon-plus-sign" aria-hidden="true" 
                                                                  style="color: #98978b"
                                                                  data-bind="visible: ($root.coursePageState.activeInfo() == null ||
                                                                             $root.coursePageState.activeInfo().id != info.id) &&
                                                                                !info.creationMode()">
                                                            </span>
                                                            <span class="pull-right glyphicon glyphicon-minus-sign" aria-hidden="true"
                                                                  style="color: #98978b"
                                                                  data-bind="visible: ($root.coursePageState.activeInfo() != null &&
                                                                             $root.coursePageState.activeInfo().id == info.id) &&
                                                                                !info.creationMode()">
                                                            </span>
                                                            <a data-bind="visible: info.email() != null && info.email().length > 1,
                                                                          attr: {href: 'mailto:' + info.email()},
                                                                          clickBubble: false">
                                                                <span class="pull-right glyphicon glyphicon-envelope" 
                                                                      style="margin-right: 10px; color: #98978b"aria-hidden="true"></span>
                                                            </a>
                                                            <a data-bind="visible: info.phone() != null && info.phone().length > 1,
                                                                          attr: {href: 'tel:' + info.phone()},
                                                                          clickBubble: false">
                                                                <span class="pull-right glyphicon glyphicon-earphone" 
                                                                      style="margin-right: 10px; color: #98978b"aria-hidden="true"></span>
                                                            </a>   
                                                        </div>
                                                    </div>
                                                </h4> 
                                            </a>
                                            <button class="btn btn-xs btn-default" 
                                                    data-bind="visible: info.creationMode(),
                                                               click: $root.cancelAddNewInfo.bind(info),
                                                               text: $root.appCulture.strings()
                                                                .getString('CANCEL', $root.appCulture.lang())"></button>
                                            <button class="btn btn-xs btn-success" 
                                                    data-bind="visible: info.creationMode(),
                                                               text: $root.appCulture.strings()
                                                                .getString('CREATE', $root.appCulture.lang()),
                                                               disable: info.title().length < 1,
                                                               click: $root.createInfo.bind(info),
                                                               clickBubble: false"></button>
                                        </div>
                                        <div class="panel-collapse collapse" role="tabpanel"
                                             data-bind="attr: {id: 'info' + info.id, 'aria-expanded': $root.coursePageState.activeInfo() != null 
                                                                && $root.coursePageState.activeInfo().id == info.id ? 'true' : 'false'}" >
                                             <ul class="list-group">

                                                <li class="custom-list-group-item list-group-item" style="padding:0" style="cursor:pointer" >
                                                  <div class="row"  style="margin-left:20px; margin-bottom:10px; margin-top:10px">
                                                  <span data-bind="text: $root.appCulture.strings()
                                                                   .getString('NAME', $root.appCulture.lang()) + ' : '"></span>
                                                  <input type="text" class="custom-form-control form-control" 
                                                         placeholder="Enter the person's name..."
                                                               data-bind="value: info.name,
                                                                          hasFocus: info.creationMode(),
                                                                          valueUpdate:'afterkeydown',
                                                                          attr:{placeholder: $root.appCulture
                                                                          .strings() .getString('ENTER_PERSON_NAME', $root.appCulture.lang())}">
                                                                          </div>
                                                </li>
                                                <li class="custom-list-group-item list-group-item" style="padding:0" style="cursor:pointer" >
                                                  <div class="row"  style="margin-left:20px; margin-bottom:10px; margin-top:10px">
                                                  <span data-bind="text: $root.appCulture.strings() 
                                                                   .getString('EMAIL', $root.appCulture.lang()) + ' : '"></span>
                                                  <input type="text" class="custom-form-control form-control" 
                                                         placeholder="Enter the person's email..."
                                                               data-bind="value: info.email,
                                                                          hasFocus: info.creationMode(),
                                                                          valueUpdate:'afterkeydown',
                                                                          attr:{placeholder: $root.appCulture
                                                                          .strings() .getString('ENTER_PERSON_EMAIL', $root.appCulture.lang())}">
                                                                          </div>
                                                </li>
                                                <li class="custom-list-group-item list-group-item" style="padding:0" style="cursor:pointer" >
                                                  <div class="row"  style="margin-left:20px; margin-bottom:10px; margin-top:10px">
                                                  <span data-bind="text: $root.appCulture.strings()
                                                                   .getString('PHONE', $root.appCulture.lang()) + ' : '"></span>
                                                  <input type="text" class="custom-form-control form-control" 
                                                         placeholder="Enter the person's phone number..."
                                                               data-bind="value: info.phone,
                                                                          hasFocus: info.creationMode(),
                                                                          valueUpdate:'afterkeydown',
                                                                          attr:{placeholder: $root.appCulture.strings() 
                                                                          .getString('ENTER_PERSON_PHONE', $root.appCulture.lang())}">
                                                                          </div>
                                                </li>
                                                <li class="custom-list-group-item list-group-item" style="padding:0" style="cursor:pointer" >
                                                  <div class="row"  style="margin-left:20px; margin-bottom:10px; margin-top:10px">
                                                  <span data-bind="text: $root.appCulture.strings()
                                                                   .getString('OFFICE', $root.appCulture.lang()) + ' : '"></span>
                                                  <input type="text" class="custom-form-control form-control" 
                                                         placeholder="Enter the person's office..."
                                                               data-bind="value: info.office,
                                                                          hasFocus: info.creationMode(),
                                                                          valueUpdate:'afterkeydown',
                                                                          attr:{placeholder: $root.appCulture
                                                                          .strings() .getString('ENTER_PERSON_OFFICE',$root.appCulture.lang())}">
                                                                        </div>
                                                </li>
                                            </ul> 
                                         </div> 
                                    </div>
                                            <!-- /ko -->
                                <!-- /ko -->
                                <div class="panel panel-default" data-bind="visible: $root.coursePageState.showCreateNewInfo()" 
                                     style="margin-bottom: 10px;">
                                    <div class="panel-heading" role="tab" style="padding: 0">
                                        <button class="btn btn-primary" style="width: 100%; border-radius: 2px 2px 2px 2px"
                                                data-bind="click: $root.addNewInfo">
                                          <span class="glyphicon glyphicon-plus" aria-hidden="true"></span> 
                                          <span data-bind="text: $root.appCulture.strings()
                                                           .getString('ADD_NEW_CONTACT', $root.appCulture.lang())"></span>
                                        </button>
                                    </div>
                                </div>
                            </div>
						</div>
					</div>

				</div>
            </div>
            <div data-bind="fadeVisible: appState.activePage() == 'Settings'">
                <div class="row" style="padding-top:30px">
                    <form class="form-inline">
                        <div class="row">
                            <div class="col-xs-12" style="text-align:center">
                                <h4 data-bind="text: $root.appCulture.strings()
                                               .getString('GENERAL', $root.appCulture.lang())">General Settings</h4>
                            </div>
                            <div class="form-group col-xs-12">
                                <div class="col-xs-3">
                                    <label for="languageInput" style="padding-top:12px" >
                                        <span class="pull-left" data-bind="text: $root.appCulture.strings()
                                               .getString('LANGUAGE', $root.appCulture.lang())"></span></label>
                                </div>
                                <div class="col-xs-9">
                                    <div id="languageInput" class="btn-group" data-toggle="buttons">
                                        <label class="btn" 
                                                    data-bind="css: {'btn-primary': $root.appCulture.lang() == 'en', 
                                                                      'btn-default': $root.appCulture.lang() != 'en'}">
                                            <input type="radio" name="options" id="option1" value="en"
                                                   data-bind="bsChecked: $root.appCulture.lang">English</label>
                                        <label class="btn" data-bind="css: {'btn-primary': $root.appCulture.lang() == 'fr', 
                                                                      'btn-default': $root.appCulture.lang() != 'fr'}">
                                            <input type="radio" name="options" id="option2" value="fr" 
                                                   data-bind="bsChecked: $root.appCulture.lang">Français</label>
                                    </div>
                                </div>
                            </div>
                            <div class="col-xs-12" style="text-align:center">
                                <h4 data-bind="text: $root.appCulture.strings()
                                               .getString('DEFAULT_NOTIFICATION', $root.appCulture.lang())"></h4>
                            </div>
                            <div class="form-group col-xs-12" style="padding: 0px 30px">
                                <div class="panel panel-default">
                                  <div class="panel-heading" style="padding:5px 10px 15px 10px">
                                    <span class="panel-title"
                                        data-bind="text: $root.appCulture.strings()
                                               .getString('DUE_DATE_REMINDER', $root.appCulture.lang())"></span>
                                      <span class="pull-right">
                                          <input class="bootstrap-switch" type="checkbox" checked>
                                      </span>
                                  </div>
                                  <div class="panel-body">
                                     <div class="col-xs-12" style="text-align:center">
                                        <span style="padding-top:5px;"
                                             data-bind="text: $root.appCulture.strings()
                                                       .getString('NOTIFY_ME', $root.appCulture.lang())">
                                        </span>
                                        <input class="custom-form-control form-control" type="number" 
                                               style="width:30px; text-align:center; display:inline-block;" 
                                               data-bind="value: $root.appSettings.notifyMeNumBeforeDueDate"/>
                                        <select style="height:34px;" 
                                                data-bind="value: $root.appSettings.notifyMeNumBeforeDueDateUnit, 
                                                           options: $root.appSettings.notificationTimeUnitsDropdownOptions">
                                        </select>
                                    </div>
                                    <div class="col-xs-12" style="text-align:center">
                                        <span style="padding-top:5px;"
                                             data-bind="text: $root.appCulture.strings()
                                                       .getString('BEFORE_DUE_DATE', $root.appCulture.lang())"></span>
                                    </div>
                                  </div>
                                </div>
                            </div>
                            <div class="col-xs-12" style="padding: 0px 30px">
                                <div class="panel panel-default">
                                  <div class="panel-heading" style="padding:5px 10px 15px 10px">
                                    <span class="panel-title"
                                        data-bind="text: $root.appCulture.strings()
                                               .getString('MARKING_REMINDER', $root.appCulture.lang())"></span>
                                    <span class="pull-right">
                                          <input class="bootstrap-switch" type="checkbox" checked>
                                    </span>
                                  </div>
                                  <div class="panel-body">
                                     <div class="col-xs-12" style="text-align:center">
                                        <span style="padding-top:5px;"
                                             data-bind="text: $root.appCulture.strings()
                                                       .getString('NOTIFY_ME', $root.appCulture.lang())">
                                        </span>
                                       <input class="custom-form-control form-control" type="number" 
                                               style="width:30px; text-align:center; display:inline-block;" 
                                               data-bind="value: $root.appSettings.notifyMeNumBeforeDueDate"/>
                                        <select style="height:34px;" 
                                                data-bind="value: $root.appSettings.notifyMeNumAfterDueDateUnit, 
                                                           options: $root.appSettings.notificationTimeUnitsDropdownOptions">
                                        </select>
                                    </div>
                                    <div class="col-xs-12" style="text-align:center">
                                        <span style="padding-top:5px;"
                                             data-bind="text: $root.appCulture.strings()
                                                       .getString('AFTER_DUE_DATE_IF_NOT_GRADED', $root.appCulture.lang())"></span>
                                    </div>
                                  </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <div data-bind="if: coursePageState.activeSyllabusItem() != null, fadeVisible: appState.activePage() == 'EDIT_SYLLABUS_ITEM'">
               <div style="margin-top: 40px;">
                    <form class="form-inline">
                        <div class="row">
                            <div class="form-group col-xs-12">
                                <div class="col-xs-3">
                                    <label for="itemTitleInput" style="padding:0px" ><span class="pull-left" data-bind="
                                        text: $root.appCulture.strings().getString('TITLE', $root.appCulture.lang())"></span></label>
                                </div>
                                <div class="col-xs-9">
                                    <input type="text" class="custom-form-control form-control pull-right" id="itemTitleInput"
                                           data-bind="value: coursePageState.activeSyllabusItem().title,
                                                      attr:{placeholder: $root.appCulture.strings()
                                                        .getString('ENTER_SYLLABUS_ITEM_TITLE_PLACEHOLDER', $root.appCulture.lang())}">
                                </div>
                            </div>
                        </div>
                         <div class="row" data-bind="visible: coursePageState.activeSyllabusItem().state() == 'EDIT' &&
                                                                                 !coursePageState.activeSyllabusItem().isParent">
                            <div class="form-group col-xs-12">
                                <div class="col-xs-3">
                                    <label for="itemGradeInput" style="padding:0px" ><span class="pull-left" data-bind="
                                        text: $root.appCulture.strings().getString('GRADE', $root.appCulture.lang())"></span></label>
                                </div>
                                <div class="col-xs-9">
                                    <input id="itemGradeInput" type="number" style="display: inline-block; width:50px" 
                                           class="custom-form-control form-control"
                                           data-bind="value: coursePageState.activeSyllabusItem().gradeNumerator"></input>
                                    <span>/</span>
                                    <input style="display:inline-block; width:50px" type="number" 
                                           class="custom-form-control form-control" 
                                           data-bind="value: coursePageState.activeSyllabusItem().gradeDenominator"></input>
                                </div>
                            </div>
                        </div>                                           
                        <div class="row"  data-bind="visible: coursePageState.activeSyllabusItem().parent == null">
                            <div class="form-group col-xs-12">
                                <div class="col-xs-3">
                                    <label for="itemWeightInput" style="padding:0px"><span class="pull-left" data-bind="text: $root.appCulture.strings()
                                               .getString('WEIGHT', $root.appCulture.lang())"></span></label>
                                </div>
                                <div class="col-xs-3">
                                    <div class="input-group">
                                        <input id="itemWeightInput" type="number" style="width:45px;"
                                               class="custom-form-control form-control" placeholder="15" aria-describedby="sizing-addon3"
                                               data-bind="value: coursePageState.activeSyllabusItem().weight">
                                        <span class="input-group-addon" style="padding: 5px 10px" id="itemWeightAddon">%</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row" data-bind="visible: !coursePageState.activeSyllabusItem().parent == null 
                                                    || coursePageState.activeSyllabusItem().state() == 'CREATION'">
                            <div class="form-group col-xs-12">
                                <div class="col-xs-3">
                                    <label for="itemNumberInput" style="padding:0px" ><span class="pull-left" 
                                            data-bind="text: $root.appCulture.strings()
                                               .getString('NUM_OF_SYLLABUS_ITEMS', $root.appCulture.lang())"></span></label>
                                </div>
                                <div class="col-xs-3">
                                    <div class="input-group">
                                        <span class="input-group-btn" 
                                              data-bind="click: function(){if(coursePageState.activeSyllabusItem().numItems() > 1)                                                                          coursePageState.activeSyllabusItem()
                                                         .numItems(coursePageState.activeSyllabusItem().numItems() - 1);}">
                                            <span class="btn btn-primary" style="padding: 5px 15px 5px 15px">
                                                <span class="glyphicon glyphicon-minus"></span>
                                            </span>
                                        </span>
                                        <input id="itemNumberInput" type="number" class="custom-form-control form-control" 
                                               style="width:45px; text-align:center"
                                               data-bind="value: coursePageState.activeSyllabusItem().numItems">
                                        <span class="input-group-btn" data-bind="click: function(){coursePageState.activeSyllabusItem()
                                                                                 .numItems(coursePageState.activeSyllabusItem().numItems() + 1);}">
                                            <span class="btn btn-primary" style="padding: 5px 15px 5px 15px">
                                                <span class="glyphicon glyphicon-plus"></span>
                                            </span>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row"  data-bind="fadeVisible: coursePageState.activeSyllabusItem().numItems() < 2">
                            <div class="form-group col-xs-12">
                                <div class="col-xs-3">
                                    <label for="itemWeightInput" style="padding:0px">
                                        <span class="pull-left" data-bind="text: $root.appCulture.strings()
                                               .getString('DUE_DATE', $root.appCulture.lang())"></span>
                                    </label>
                                </div>
                                <div class="col-xs-5">
                                    <input class="custom-form-control form-control dueDateInput" 
                                           style="width: 120px; text-align:center; background-color: white"
                                           data-bind="value: coursePageState.activeSyllabusItem().dueDate">
                                </div>
                                <div class="col-xs-3">
                                    <input class="custom-form-control form-control dueDateTimeInput" 
                                           style="width: 80px; text-align:center; background-color: white"
                                           data-bind="value: coursePageState.activeSyllabusItem().dueDateTime">
                                </div>
                            </div>
                        </div>
                        <div class="row" data-bind="fadeVisible: coursePageState.activeSyllabusItem().numItems() < 2">
                            <div class="form-group col-xs-12">
                                <div class="col-xs-8">
                                    <label for="beforeDueDateSwitch" style="padding:0px">
                                        <span class="pull-left" data-bind="text: $root.appCulture.strings()
                                               .getString('NOTIFY_ME_BEFORE_DUE_DATE', $root.appCulture.lang())"></span>
                                    </label>
                                </div>
                                <div class="col-xs-4">
                                      <span class="pull-right">
                                          <input id="beforeDueDateSwitch" class="bootstrap-switch" type="checkbox" checked>
                                      </span>
                                </div>
                            </div>
                        </div>
                        <div class="row" data-bind="fadeVisible: coursePageState.activeSyllabusItem().numItems() < 2">
                            <div class="form-group col-xs-12">
                                <div class="col-xs-8">
                                    <label for="beforeDueDateSwitch" style="padding:0px">
                                        <span class="pull-left" data-bind="text: $root.appCulture.strings()
                                               .getString('NOTIFY_ME_AFTER_DUE_DATE', $root.appCulture.lang())"></span>
                                    </label>
                                </div>
                                <div class="col-xs-4">
                                      <span class="pull-right">
                                          <input id="afterDueDateSwitch" class="bootstrap-switch" type="checkbox" checked>
                                      </span>
                                </div>
                            </div>
                        </div>
                        <div class="row" data-bind="visible: coursePageState.activeSyllabusItem().state() != 'CREATION'">
                            <div class="form-group col-xs-12" style="text-align:center">
                                <button class="btn btn-danger" style="width: 100%; border-radius: 0px 0px 2px 2px"
                                        data-bind="click: $root.deleteSyllabusItem">
                                  <span class="glyphicon glyphicon-trash" aria-hidden="true"></span> 
                                  <span data-bind="text: $root.appCulture.strings()
                                                   .getString('DELETE_SYLLABUS_ITEM', $root.appCulture.lang())"></span>
                                </button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div><!-- /.container -->
        
        <footer data-bind="fadeVisible: appState.activePage() == 'Course' || appState.activePage() == 'EDIT_SYLLABUS_ITEM'">
             <nav class="navbar navbar-default navbar-fixed-bottom" style="min-height:40px">
                <ul class="nav navbar-nav" style="text-align:center; margin:0px;" data-bind="fadeVisible: appState.activePage() == 'Course'">
                    <li class="course-tab-link active" style="display:inline-block">
                        <a href="#tab_below_1" data-toggle="tab">
                            <span data-bind="text: $root.appCulture.strings()
                               .getString('GRADES_TAB_TITLE', $root.appCulture.lang())"></span>
                        </a>
                    </li>
                    <li class="course-tab-link" style="display:inline-block; border: 1px">
                        <a href="#tab_below_2" data-toggle="tab">
                            <span data-bind="text: $root.appCulture.strings()
                               .getString('INFO_TAB_TITLE', $root.appCulture.lang())"></span>
                        </a>
                    </li>
                </ul>
                 <div data-bind="if: coursePageState.activeSyllabusItem() != null, fadeVisible: appState.activePage() == 'EDIT_SYLLABUS_ITEM'"
                      style="text-align:center; padding: 10px;">
                    <button type="button" class="btn btn-success" 
                        data-bind="text: $root.appCulture.strings()
                                               .getString('OK', $root.appCulture.lang()),
                                   click: $root.doneEditingSyllabusItem,
                                   visible: $root.coursePageState.activeSyllabusItem().state() == 'EDIT'"></button>
                    <button type="button" class="btn btn-danger" 
                            data-bind="text: $root.appCulture.strings()
                                                   .getString('CANCEL', $root.appCulture.lang()),
                                       click: $root.cancelCreateSyllabusItem,
                                       visible: coursePageState.activeSyllabusItem().state() == 'CREATION'"></button>
                    <button type="button" class="btn btn-success" 
                            data-bind="text: $root.appCulture.strings()
                                                   .getString('CREATE', $root.appCulture.lang()),
                                       click: $root.createSyllabusItem,
                                       visible: $root.coursePageState.activeSyllabusItem().state() == 'CREATION'"></button>
                 </div>
             </nav>
        </footer>
        <!-- <div id="deviceready" class="blink">
            <p class="event listening">App in development...</p>
            <h2 class="event received">Hello World!!!</h2>
        </div> -->
        <!-- <script type="text/javascript" src="phonegap.js"></script> -->
        <script type="text/javascript" src="js/jquery.js"></script>
        <script type="text/javascript" src="js/bootstrap-3.3.4/js/bootstrap.min.js"></script>
        <script type="text/javascript" src="js/knockout/knockout-3.3.0.js"></script>
        <script type="text/javascript" src="js/strings.js"></script>
        <script type="text/javascript" src="js/dataModel.js"></script>
        <script type="text/javascript" src="js/datepicker/picker.js"></script>
        <script type="text/javascript" src="js/datepicker/picker.date.js"></script>
        <script type="text/javascript" src="js/datepicker/picker.time.js"></script>
        <script type="text/javascript" src="js/bootstrap-switch/js/bootstrap-switch.min.js"></script>
        <script type="text/javascript" src="js/index.js"></script>
    </body>
</html>
